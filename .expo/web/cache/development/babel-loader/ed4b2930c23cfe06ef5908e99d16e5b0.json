{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _firebase = _interopRequireDefault(require(\"firebase\"));\n\nvar _LoginForm = _interopRequireDefault(require(\"./components/LoginForm\"));\n\nvar _common = require(\"./components/common\");\n\nvar _jsxFileName = \"A:\\\\Groww\\\\React Native\\\\auth\\\\src\\\\App.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar App = function (_Component) {\n  (0, _inherits2.default)(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      loggedIn: null\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (!_firebase.default.apps.length) {\n        _firebase.default.initializeApp({\n          apiKey: 'AIzaSyB1H-I4vkvRTBqy33aptgerzAB2RwNirDY',\n          authDomain: 'auth-d12f2.firebaseapp.com',\n          databaseURL: 'https://auth-d12f2.firebaseio.com',\n          projectId: 'auth-d12f2',\n          storageBucket: 'auth-d12f2.appspot.com',\n          messagingSenderId: '769999765428',\n          appId: '1:769999765428:web:04bcc1b87bb7f72dd1bce1'\n        });\n      }\n\n      _firebase.default.auth().onAuthStateChanged(function (user) {\n        if (user) {\n          _this2.setState({\n            loggedIn: true\n          });\n        } else {\n          _this2.setState({\n            loggedIn: false\n          });\n        }\n      });\n    }\n  }, {\n    key: \"writeUserData\",\n    value: function writeUserData(email, fname, lname) {\n      _firebase.default.database().ref('Users/').set({\n        email: email,\n        fname: fname,\n        lname: lname\n      }).then(function (data) {\n        console.log('data ', data);\n      }).catch(function (error) {\n        console.log('error ', error);\n      });\n    }\n  }, {\n    key: \"renderContent\",\n    value: function renderContent() {\n      var _this3 = this;\n\n      switch (this.state.loggedIn) {\n        case true:\n          return _react.default.createElement(_reactNative.View, {\n            style: {\n              height: 40\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 11\n            }\n          }, _react.default.createElement(_common.Button, {\n            onPress: function onPress() {\n              return _this3.writeUserData('aman,bhawsar,amanbhawsar9@gmail.com');\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 13\n            }\n          }, \"Save Details\"), _react.default.createElement(_common.Button, {\n            onPress: function onPress() {\n              console.log('logoff');\n\n              _firebase.default.auth().signOut();\n\n              _this3.state.loggedIn = false;\n            },\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 13\n            }\n          }, \"Log Out\"));\n\n        case false:\n          return _react.default.createElement(_LoginForm.default, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 16\n            }\n          });\n\n        default:\n          return _react.default.createElement(_common.Spinner, {\n            size: \"large\",\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 16\n            }\n          });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(_reactNative.View, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_common.Header, {\n        headerText: \"Authentication\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }), this.renderContent());\n    }\n  }]);\n  return App;\n}(_react.Component);\n\nvar _default = App;\nexports.default = _default;","map":{"version":3,"sources":["A:/Groww/React Native/auth/src/App.js"],"names":["App","state","loggedIn","firebase","apps","length","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","onAuthStateChanged","user","setState","email","fname","lname","database","ref","set","then","data","console","log","catch","error","height","writeUserData","signOut","renderContent","Component"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;;;;;;;IAEMA,G;;;;;;;;;;;;;;;UACJC,K,GAAQ;AAACC,MAAAA,QAAQ,EAAE;AAAX,K;;;;;;wCAEY;AAAA;;AAClB,UAAI,CAACC,kBAASC,IAAT,CAAcC,MAAnB,EAA2B;AACzBF,0BAASG,aAAT,CAAuB;AACrBC,UAAAA,MAAM,EAAE,yCADa;AAErBC,UAAAA,UAAU,EAAE,4BAFS;AAGrBC,UAAAA,WAAW,EAAE,mCAHQ;AAIrBC,UAAAA,SAAS,EAAE,YAJU;AAKrBC,UAAAA,aAAa,EAAE,wBALM;AAMrBC,UAAAA,iBAAiB,EAAE,cANE;AAOrBC,UAAAA,KAAK,EAAE;AAPc,SAAvB;AASD;;AACDV,wBAASW,IAAT,GAAgBC,kBAAhB,CAAmC,UAACC,IAAD,EAAU;AAC3C,YAAIA,IAAJ,EAAU;AACR,UAAA,MAAI,CAACC,QAAL,CAAc;AAACf,YAAAA,QAAQ,EAAE;AAAX,WAAd;AACD,SAFD,MAEO;AACL,UAAA,MAAI,CAACe,QAAL,CAAc;AAACf,YAAAA,QAAQ,EAAE;AAAX,WAAd;AACD;AACF,OAND;AAOD;;;kCACagB,K,EAAOC,K,EAAOC,K,EAAO;AACjCjB,wBACGkB,QADH,GAEGC,GAFH,CAEO,QAFP,EAGGC,GAHH,CAGO;AACHL,QAAAA,KAAK,EAALA,KADG;AAEHC,QAAAA,KAAK,EAALA,KAFG;AAGHC,QAAAA,KAAK,EAALA;AAHG,OAHP,EAQGI,IARH,CAQQ,UAACC,IAAD,EAAU;AAEdC,QAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,IAArB;AACD,OAXH,EAYGG,KAZH,CAYS,UAACC,KAAD,EAAW;AAEhBH,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBE,KAAtB;AACD,OAfH;AAgBD;;;oCACe;AAAA;;AACd,cAAQ,KAAK5B,KAAL,CAAWC,QAAnB;AACE,aAAK,IAAL;AACE,iBACE,6BAAC,iBAAD;AAAM,YAAA,KAAK,EAAE;AAAC4B,cAAAA,MAAM,EAAE;AAAT,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACE,6BAAC,cAAD;AACE,YAAA,OAAO,EAAE;AAAA,qBACP,MAAI,CAACC,aAAL,CAAmB,qCAAnB,CADO;AAAA,aADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,EAOE,6BAAC,cAAD;AACE,YAAA,OAAO,EAAE,mBAAM;AACbL,cAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ;;AACAxB,gCAASW,IAAT,GAAgBkB,OAAhB;;AACA,cAAA,MAAI,CAAC/B,KAAL,CAAWC,QAAX,GAAsB,KAAtB;AACD,aALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAPF,CADF;;AAkBF,aAAK,KAAL;AACE,iBAAO,6BAAC,kBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;;AACF;AACE,iBAAO,6BAAC,eAAD;AAAS,YAAA,IAAI,EAAC,OAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAAP;AAvBJ;AAyBD;;;6BAEQ;AACP,aACE,6BAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,6BAAC,cAAD;AAAQ,QAAA,UAAU,EAAC,gBAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEG,KAAK+B,aAAL,EAFH,CADF;AAMD;;;EA5EeC,gB;;eA8EHlC,G","sourcesContent":["import React, {Component} from 'react';\nimport {View} from 'react-native';\nimport firebase from 'firebase';\nimport LoginForm from './components/LoginForm';\nimport {Header, Spinner, Button} from './components/common';\n\nclass App extends Component {\n  state = {loggedIn: null};\n\n  componentDidMount() {\n    if (!firebase.apps.length) {\n      firebase.initializeApp({\n        apiKey: 'AIzaSyB1H-I4vkvRTBqy33aptgerzAB2RwNirDY',\n        authDomain: 'auth-d12f2.firebaseapp.com',\n        databaseURL: 'https://auth-d12f2.firebaseio.com',\n        projectId: 'auth-d12f2',\n        storageBucket: 'auth-d12f2.appspot.com',\n        messagingSenderId: '769999765428',\n        appId: '1:769999765428:web:04bcc1b87bb7f72dd1bce1',\n      });\n    }\n    firebase.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.setState({loggedIn: true});\n      } else {\n        this.setState({loggedIn: false});\n      }\n    });\n  }\n  writeUserData(email, fname, lname) {\n    firebase\n      .database()\n      .ref('Users/')\n      .set({\n        email,\n        fname,\n        lname,\n      })\n      .then((data) => {\n        //success callback\n        console.log('data ', data);\n      })\n      .catch((error) => {\n        //error callback\n        console.log('error ', error);\n      });\n  }\n  renderContent() {\n    switch (this.state.loggedIn) {\n      case true:\n        return (\n          <View style={{height: 40}}>\n            <Button\n              onPress={() =>\n                this.writeUserData('aman,bhawsar,amanbhawsar9@gmail.com')\n              }>\n              Save Details\n            </Button>\n            <Button\n              onPress={() => {\n                console.log('logoff');\n                firebase.auth().signOut();\n                this.state.loggedIn = false;\n              }}>\n              Log Out\n            </Button>\n          </View>\n        );\n      case false:\n        return <LoginForm />;\n      default:\n        return <Spinner size=\"large\" />;\n    }\n  }\n\n  render() {\n    return (\n      <View>\n        <Header headerText=\"Authentication\" />\n        {this.renderContent()}\n      </View>\n    );\n  }\n}\nexport default App;\n"]},"metadata":{},"sourceType":"script"}