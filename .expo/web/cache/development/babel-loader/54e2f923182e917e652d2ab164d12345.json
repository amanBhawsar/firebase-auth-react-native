{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _firebase = _interopRequireDefault(require(\"firebase\"));\n\nvar _common = require(\"./common\");\n\nvar _jsxFileName = \"A:\\\\Groww\\\\React Native\\\\auth\\\\src\\\\components\\\\LoginForm.js\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar LoginForm = function (_Component) {\n  (0, _inherits2.default)(LoginForm, _Component);\n\n  var _super = _createSuper(LoginForm);\n\n  function LoginForm() {\n    var _this;\n\n    (0, _classCallCheck2.default)(this, LoginForm);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      email: '',\n      password: '',\n      error: '',\n      loading: false\n    };\n    return _this;\n  }\n\n  (0, _createClass2.default)(LoginForm, [{\n    key: \"onButtonPress\",\n    value: function onButtonPress() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n      this.setState({\n        error: '',\n        loading: true\n      });\n\n      _firebase.default.auth().signInWithEmailAndPassword(email, password).then(this.onLoginSuccess.bind(this)).catch(function () {\n        _firebase.default.auth().createUserWithEmailAndPassword(email, password).then(_this2.onLoginSuccess.bind(_this2)).catch(_this2.onLoginFail.bind(_this2));\n      });\n    }\n  }, {\n    key: \"onLoginFail\",\n    value: function onLoginFail() {\n      this.setState({\n        error: 'Authentication Failed!',\n        loading: false\n      });\n    }\n  }, {\n    key: \"onLoginSuccess\",\n    value: function onLoginSuccess() {\n      this.setState({\n        email: '',\n        password: '',\n        error: '',\n        loading: false\n      });\n    }\n  }, {\n    key: \"renderButton\",\n    value: function renderButton() {\n      if (this.state.loading) {\n        return _react.default.createElement(_common.Spinner, {\n          size: \"small\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 14\n          }\n        });\n      }\n\n      return _react.default.createElement(_common.Button, {\n        onPress: this.onButtonPress.bind(this),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 37,\n          columnNumber: 12\n        }\n      }, \"Log In\");\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return _react.default.createElement(_common.Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 7\n        }\n      }, _react.default.createElement(_common.CardSection, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_common.Input, {\n        label: \"Email\",\n        placeholder: \"user@gmail.com\",\n        value: this.state.email,\n        onChangeText: function onChangeText(email) {\n          return _this3.setState({\n            email: email\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_common.CardSection, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, _react.default.createElement(_common.Input, {\n        secureTextEntry: true,\n        label: \"Password\",\n        placeholder: \"enter Password here\",\n        value: this.state.password,\n        onChangeText: function onChangeText(password) {\n          return _this3.setState({\n            password: password\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      })), _react.default.createElement(_reactNative.Text, {\n        style: styles.errorTextStyle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, this.state.error), _react.default.createElement(_common.CardSection, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 9\n        }\n      }, this.renderButton()));\n    }\n  }]);\n  return LoginForm;\n}(_react.Component);\n\nvar styles = {\n  errorTextStyle: {\n    fontSize: 20,\n    alignSelf: 'center',\n    color: 'red'\n  }\n};\nvar _default = LoginForm;\nexports.default = _default;","map":{"version":3,"sources":["A:/Groww/React Native/auth/src/components/LoginForm.js"],"names":["LoginForm","state","email","password","error","loading","setState","firebase","auth","signInWithEmailAndPassword","then","onLoginSuccess","bind","catch","createUserWithEmailAndPassword","onLoginFail","onButtonPress","styles","errorTextStyle","renderButton","Component","fontSize","alignSelf","color"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport {Text} from 'react-native';\nimport firebase from 'firebase';\nimport {Button, Card, CardSection, Input, Spinner} from './common';\n\nclass LoginForm extends Component {\n  state = {email: '', password: '', error: '', loading: false};\n  onButtonPress() {\n    const {email, password} = this.state;\n    this.setState({error: '', loading: true});\n\n    firebase\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .then(this.onLoginSuccess.bind(this))\n      .catch(() => {\n        firebase\n          .auth()\n          .createUserWithEmailAndPassword(email, password)\n          .then(this.onLoginSuccess.bind(this))\n          .catch(this.onLoginFail.bind(this));\n      });\n  }\n\n  onLoginFail() {\n    this.setState({error: 'Authentication Failed!', loading: false});\n  }\n\n  onLoginSuccess() {\n    this.setState({email: '', password: '', error: '', loading: false});\n  }\n\n  renderButton() {\n    if (this.state.loading) {\n      return <Spinner size=\"small\" />;\n    }\n    return <Button onPress={this.onButtonPress.bind(this)}>Log In</Button>;\n  }\n\n  render() {\n    return (\n      <Card>\n        <CardSection>\n          <Input\n            label=\"Email\"\n            placeholder=\"user@gmail.com\"\n            value={this.state.email}\n            onChangeText={(email) => this.setState({email})}\n          />\n        </CardSection>\n        <CardSection>\n          <Input\n            secureTextEntry={true}\n            label=\"Password\"\n            placeholder=\"enter Password here\"\n            value={this.state.password}\n            onChangeText={(password) => this.setState({password})}\n          />\n        </CardSection>\n\n        <Text style={styles.errorTextStyle}>{this.state.error}</Text>\n\n        <CardSection>{this.renderButton()}</CardSection>\n      </Card>\n    );\n  }\n}\n\nconst styles = {\n  errorTextStyle: {\n    fontSize: 20,\n    alignSelf: 'center',\n    color: 'red',\n  },\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"script"}